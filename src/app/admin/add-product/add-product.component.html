<form  novalidate (ngSubmit)="addProduct()" [formGroup]="addProductForm">
  <div class="modal-content">
    <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold text-primary ml-5">Add new Product</h4>
        <button type="button" class="close text-primary" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body mx-3">
        <!--div class="md-form mb-3">
            <input type="text" id="productNameId" class="form-control validate"
              placeholder="Product Name"
              formControlName="productName" 
              required
              [ngClass]="{'is-invalid': (addProductForm.get('productName').touched || addProductForm.get('productName').dirty) && !addProductForm.get('productName').valid }" 
            >
            <span class="invalid-feedback">
              <span *ngIf="addProductForm.get('productName').errors?.required">
                Please enter the Product Name.
              </span>
            </span>
        </div-->

        <div class="md-form md-outline input-with-pre-icon mb-3">
          <i class="fas fa-pen input-prefix"></i>
          <input type="text" id="productNameId" class="form-control"
          formControlName="productName" 
          required
          [ngClass]="{'is-invalid': (addProductForm.get('productName').touched || addProductForm.get('productName').dirty) && !addProductForm.get('productName').valid }" 
        >
        <label for="productNameId">Product Name</label>
        <span class="invalid-feedback">
          <span *ngIf="addProductForm.get('productName').errors?.required">
            Please enter the Product Name.
          </span>
        </span>
          
        </div>

        <div class="md-form md-outline input-with-pre-icon mb-3">
          <i class="fas fa-pen input-prefix"></i>
          <select class="form-control"
            id="categoryId"
            formControlName="category">
            <option value=""
              disabled
              selected
              hidden>Select a Category</option>
            <option value="Vegetable">Vegetable</option>
            <option value="Fruit">Fruit</option>
          </select>
        </div>


        <div class="md-form md-outline input-with-pre-icon mb-3">
          <i class="fas fa-pen input-prefix"></i>
          <input type="number" id="priceId" class="form-control"
            formControlName="pricePerKg" 
            required
            [ngClass]="{'is-invalid': (addProductForm.get('pricePerKg').touched || addProductForm.get('pricePerKg').dirty) && !addProductForm.get('pricePerKg').valid }" 
          >
          <label for="priceId">Our Price</label>
          <span class="invalid-feedback">
            <span *ngIf="addProductForm.get('pricePerKg').errors?.required">
              Please enter our price.
            </span>
          </span>
        </div>

        <div class="md-form md-outline input-with-pre-icon mb-3">
          <i class="fas fa-pen input-prefix"></i>
          <input type="number" id="marketPriceId" class="form-control"
            formControlName="marketPrice" 
            required
            [ngClass]="{'is-invalid': (addProductForm.get('marketPrice').touched || addProductForm.get('marketPrice').dirty) && !addProductForm.get('marketPrice').valid }" 
          >
          <label for="marketPriceId">Market Price</label>
          <span class="invalid-feedback">
            <span *ngIf="addProductForm.get('marketPrice').errors?.required">
              Please enter Market Price.
            </span>
          </span>
        </div>

        <div class="md-form md-outline input-with-pre-icon mb-3">
          <i class="fas fa-pen input-prefix"></i>
          <input type="number" id="totalQtyId" class="form-control"
            formControlName="totalQty" 
            required
            [ngClass]="{'is-invalid': (addProductForm.get('totalQty').touched || addProductForm.get('totalQty').dirty) && !addProductForm.get('totalQty').valid }" 
          >
          <label for="totalQtyId">Total Quantity</label>
          <span class="invalid-feedback">
            <span *ngIf="addProductForm.get('totalQty').errors?.required">
              Please enter Total Qty.
            </span>
          </span>
        </div>

        <div class="md-form mb-3">
          <input 
          formControlName="image"
          id="image" 
          type="file" 
          class="form-control"
          (change)="onFileChange($event)">
          <div *ngIf="addProductForm.get('image').touched && addProductForm.get('image').invalid" class="alert alert-danger">
             <div *ngIf="addProductForm.get('image').errors.required">image is required.</div>
          </div>
        </div>

    </div>
    <div class="modal-footer d-flex justify-content-center buttonAddFormWrapper">
        <button class="btn btn-outline-primary btn-block buttonAdd" [title]="addProductForm.valid ? 'Save your entered data' : 'Disabled until the form data is valid'"
        [disabled]="!addProductForm.valid">Add Product
            <i class="fas fa-paper-plane-o ml-1"></i>
        </button>
    </div>
  </div>

</form>